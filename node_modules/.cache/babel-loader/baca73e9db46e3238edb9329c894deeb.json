{"ast":null,"code":"import { ref, onBeforeMount } from 'vue';\nexport default {\n  __name: 'Films',\n  props: {\n    url: {\n      type: String\n    }\n  },\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n    const filmFile = ref({\n      title: null,\n      episode_id: null,\n      director: null,\n      producer: null,\n      release_date: null\n    });\n    const getFile = url => {\n      const request = fetch(url);\n      request.then(response => {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      }).then(json => {\n        pilotoFile.value = {\n          ...json\n        };\n        json.films.forEach(url => {\n          getFilm(url);\n        });\n      }).catch(error => {\n        console.log('Ocurrió un error: ', error);\n      });\n    };\n    onBeforeMount(() => {\n      getFile(props.url);\n    });\n\n    // \"name\": \"Obi-Wan Kenobi\", \n    //     \"height\": \"182\", \n    //     \"mass\": \"77\", \n    //     \"hair_color\": \"auburn, white\", \n    //     \"skin_color\": \"fair\", \n    //     \"eye_color\": \"blue-gray\", \n    //     \"birth_year\": \"57BBY\", \n    //     \"gender\": \"male\", \n    //     \"homeworld\": \"https://swapi.dev/api/planets/20/\", \n    //     \"films\": [\n    //         \"https://swapi.dev/api/films/1/\", \n    //         \"https://swapi.dev/api/films/2/\", \n    //         \"https://swapi.dev/api/films/3/\", \n    //         \"https://swapi.dev/api/films/4/\", \n    //         \"https://swapi.dev/api/films/5/\", \n    //         \"https://swapi.dev/api/films/6/\"\n    //     ], \n    //     \"species\": [], \n    //     \"vehicles\": [\n    //         \"https://swapi.dev/api/vehicles/38/\"\n    //     ], \n    //     \"starships\": [\n    //         \"https://swapi.dev/api/starships/48/\", \n    //         \"https://swapi.dev/api/starships/59/\", \n    //         \"https://swapi.dev/api/starships/64/\", \n    //         \"https://swapi.dev/api/starships/65/\", \n    //         \"https://swapi.dev/api/starships/74/\"\n    //     ], \n\n    const __returned__ = {\n      props,\n      filmFile,\n      getFile,\n      ref,\n      onBeforeMount\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":"AACA,SAASA,GAAG,EAAEC,aAAa,QAAQ,KAAK;;;;;;;;;;;;;IAMxC,MAAMC,QAAQ,GAACF,GAAG,CAAC;MACjBG,KAAK,EAAE,IAAI;MACXC,UAAU,EAAE,IAAI;MAChBC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,IAAI;MACdC,YAAY,EAAE;IAChB,CAAC,CAAC;IAEF,MAAMC,OAAO,GAAEC,GAAG,IAAG;MACf,MAAMC,OAAO,GAAGC,KAAK,CAACF,GAAG,CAAC;MAC1BC,OAAO,CAACE,IAAI,CAAEC,QAAQ,IAAI;QAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UAChB,MAAMD,QAAQ,CAACE,MAAM;QAEvB,CAAC,MAAK;UACJ,OAAOF,QAAQ,CAACG,IAAI,EAAE;QACxB;MACA,CAAC,CAAC,CACHJ,IAAI,CAACI,IAAI,IAAI;QACZC,UAAU,CAACC,KAAK,GAAC;UAAC,GAAGF;QAAI,CAAC;QAC1BA,IAAI,CAACG,KAAK,CAACC,OAAO,CAACX,GAAG,IAAI;UACxBY,OAAO,CAACZ,GAAG,CAAC;QACd,CAAC,CAAC;MACJ,CAAC,CAAC,CACDa,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACvC,CAAC,CAAC;IACjB,CAAC;IAGDtB,aAAa,CAAC,MAAI;MAChBO,OAAO,CAACkB,KAAK,CAACjB,GAAG,CAAC;IACpB,CAAC,CAAC;;IAEF;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA","names":["ref","onBeforeMount","filmFile","title","episode_id","director","producer","release_date","getFile","url","request","fetch","then","response","ok","status","json","pilotoFile","value","films","forEach","getFilm","catch","error","console","log","props"],"sources":["C:/Users/User01/Documents/ITAcademy/Vue/sprint8/starwars/src/components/Films.vue"],"sourcesContent":["<script setup>\nimport { ref, onBeforeMount } from 'vue'\nconst props=defineProps({\n  url:{\n        type: String\n    }\n})\nconst filmFile=ref({\n  title: null,\n  episode_id: null, \n  director: null, \n  producer: null, \n  release_date: null, \n});\n\nconst getFile=(url)=>{\n      const request = fetch(url);\n      request.then( response => {\n              if (!response.ok) {\n                throw response.status\n                \n              } else{\n                return response.json()\n              }\n              })\n            .then(json => {\n              pilotoFile.value={...json};\n              json.films.forEach(url => {\n                getFilm(url);\n              });\n            })\n            .catch((error) => {\n              console.log('Ocurrió un error: ', error)\n               });\n}\n\n\nonBeforeMount(()=>{\n  getFile(props.url);\n})\n\n// \"name\": \"Obi-Wan Kenobi\", \n//     \"height\": \"182\", \n//     \"mass\": \"77\", \n//     \"hair_color\": \"auburn, white\", \n//     \"skin_color\": \"fair\", \n//     \"eye_color\": \"blue-gray\", \n//     \"birth_year\": \"57BBY\", \n//     \"gender\": \"male\", \n//     \"homeworld\": \"https://swapi.dev/api/planets/20/\", \n//     \"films\": [\n//         \"https://swapi.dev/api/films/1/\", \n//         \"https://swapi.dev/api/films/2/\", \n//         \"https://swapi.dev/api/films/3/\", \n//         \"https://swapi.dev/api/films/4/\", \n//         \"https://swapi.dev/api/films/5/\", \n//         \"https://swapi.dev/api/films/6/\"\n//     ], \n//     \"species\": [], \n//     \"vehicles\": [\n//         \"https://swapi.dev/api/vehicles/38/\"\n//     ], \n//     \"starships\": [\n//         \"https://swapi.dev/api/starships/48/\", \n//         \"https://swapi.dev/api/starships/59/\", \n//         \"https://swapi.dev/api/starships/64/\", \n//         \"https://swapi.dev/api/starships/65/\", \n//         \"https://swapi.dev/api/starships/74/\"\n//     ], \n</script>\n<template>\n  <div v-if=\"pilotoFile.name!=null\">\n    -{{pilotoFile.name}} {{url}}\n  </div>\n  <div v-if=\"films.length>0\">\n    <h4>peliculas en las que aparece:</h4>\n    <ul>\n      <li v-for=\"title in films\">{{title}}</li>\n    </ul>\n  </div>\n</template>\n\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}