{"ast":null,"code":"export default {\n  __name: 'Pilotos',\n  props: {\n    url: {\n      type: String\n    }\n  },\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const props = __props;\n    const apiUrl = props.url;\n    const getPiloto = () => {\n      const request = fetch(props.url);\n      request.then(response => {\n        if (!response.ok) {\n          throw response.status;\n        } else {\n          return response.json();\n        }\n      }).then(json => {\n        if (json.count > context.getters.countShips) {\n          context.commit(\"loadShip\", json.results);\n          context.commit(\"pagesLoaded\", page);\n        }\n        if (context.getters.countShips >= json.count) {\n          context.commit(\"stopGettingShips\");\n        }\n      }).catch(error => {\n        console.log('Ocurrió un error: ', error);\n      });\n    };\n    const __returned__ = {\n      props,\n      apiUrl,\n      getPiloto\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;IAMA,MAAMA,MAAM,GAACC,KAAK,CAACC,GAAG;IACtB,MAAMC,SAAS,GAAC,MAAI;MACd,MAAMC,OAAO,GAAGC,KAAK,CAACJ,KAAK,CAACC,GAAG,CAAC;MAChCE,OAAO,CAACE,IAAI,CAAEC,QAAQ,IAAI;QAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;UAChB,MAAMD,QAAQ,CAACE,MAAM;QAEvB,CAAC,MAAK;UACJ,OAAOF,QAAQ,CAACG,IAAI,EAAE;QACxB;MACA,CAAC,CAAC,CACHJ,IAAI,CAACI,IAAI,IAAI;QACZ,IAAIA,IAAI,CAACC,KAAK,GAACC,OAAO,CAACC,OAAO,CAACC,UAAU,EAAC;UAC1CF,OAAO,CAACG,MAAM,CAAC,UAAU,EAACL,IAAI,CAACM,OAAO,CAAC;UACvCJ,OAAO,CAACG,MAAM,CAAC,aAAa,EAACE,IAAI,CAAC;QAClC;QACA,IAAIL,OAAO,CAACC,OAAO,CAACC,UAAU,IAAEJ,IAAI,CAACC,KAAK,EAAC;UACzCC,OAAO,CAACG,MAAM,CAAC,kBAAkB,CAAC;QACpC;MACF,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACvC,CAAC,CAAC;IACjB,CAAC","names":["apiUrl","props","url","getPiloto","request","fetch","then","response","ok","status","json","count","context","getters","countShips","commit","results","page","catch","error","console","log"],"sources":["C:/Users/User01/Documents/ITAcademy/Vue/sprint8/starwars/src/components/Pilotos.vue"],"sourcesContent":["<script setup>\nconst props=defineProps({\n  url:{\n        type: String\n    }\n})\nconst apiUrl=props.url;\nconst getPiloto=()=>{\n      const request = fetch(props.url);\n      request.then( response => {\n              if (!response.ok) {\n                throw response.status\n                \n              } else{\n                return response.json()\n              }\n              })\n            .then(json => {\n              if (json.count>context.getters.countShips){\n              context.commit(\"loadShip\",json.results)\n              context.commit(\"pagesLoaded\",page)\n              }\n              if (context.getters.countShips>=json.count){\n                context.commit(\"stopGettingShips\")\n              }\n            })\n            .catch((error) => {\n              console.log('Ocurrió un error: ', error)\n               });\n}\n\n</script>\n<template>\n  <div>\n    {{url}}\n  </div>\n</template>\n\n\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}